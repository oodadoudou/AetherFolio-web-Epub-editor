<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batch Replacer Report - Green Theme</title>
    <link rel="stylesheet" href="batch_replacer_green_styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📝</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="title">
                        <span class="icon">📝</span>
                        Batch Replacer Report
                    </h1>
                    <p class="subtitle">Green Theme Edition</p>
                </div>
                <div class="header-right">
                    <button id="theme-toggle" class="theme-toggle" title="Toggle Theme (Ctrl+D)">
                        🌙 Dark Mode
                    </button>
                </div>
            </div>
        </header>

        <!-- Statistics Section -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">📋</div>
                    <div class="stat-content">
                        <div class="stat-number">{{rules_count}}</div>
                        <div class="stat-label">Rules Applied</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🔄</div>
                    <div class="stat-content">
                        <div class="stat-number">{{total_instances}}</div>
                        <div class="stat-label">Total Replacements</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📄</div>
                    <div class="stat-content">
                        <div class="stat-number">{{files_processed}}</div>
                        <div class="stat-label">Files Processed</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">⏱️</div>
                    <div class="stat-content">
                        <div class="stat-number">{{processing_time}}</div>
                        <div class="stat-label">Processing Time</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <section class="actions-section">
            <button class="action-btn primary" onclick="toggleRulesList()">
                <span class="btn-icon">📋</span>
                View Rules Summary
            </button>
            <button class="action-btn secondary" onclick="window.print()">
                <span class="btn-icon">🖨️</span>
                Print Report
            </button>
            <button class="action-btn secondary" onclick="location.reload()">
                <span class="btn-icon">🔄</span>
                Refresh
            </button>
        </section>

        <!-- Content Sections -->
        <main class="content-sections">
            {{content_sections}}
        </main>

        <!-- Rules List Modal -->
        <div id="rules-list" class="rules-modal">
            <div class="rules-modal-content">
                <div class="rules-modal-header">
                    <h3>Rules Summary</h3>
                    <button class="close-btn" onclick="toggleRulesList()">&times;</button>
                </div>
                <div class="rules-modal-body">
                    <div class="rules-list-container">
                        {{rules_list}}
                    </div>
                </div>
                <div class="rules-modal-footer">
                    <p class="modal-tip">💡 Click on any rule to jump to its section</p>
                    <p class="modal-shortcut">Press <kbd>ESC</kbd> to close</p>
                </div>
            </div>
        </div>

        <!-- Back to Top Button -->
        <button id="back-to-top" class="back-to-top" title="Back to Top">
            <span class="back-to-top-icon">↑</span>
        </button>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>Generated by AetherFolio Batch Replacer</p>
                <p class="footer-time">Report generated at: {{generation_time}}</p>
                <div class="footer-shortcuts">
                    <span class="shortcut-item"><kbd>Ctrl+D</kbd> Toggle Theme</span>
                    <span class="shortcut-item"><kbd>ESC</kbd> Close Modal</span>
                </div>
            </div>
        </footer>
    </div>

    <script src="batch_replacer_green_scripts.js"></script>
</body>
</html>