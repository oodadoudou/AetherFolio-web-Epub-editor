# AetherFolio 后端环境配置示例
# 复制此文件为 .env 并根据需要修改配置

# 应用配置
APP_NAME=AetherFolio
DEBUG=true
HOST=0.0.0.0
PORT=8000

# API配置
API_V1_PREFIX=/api/v1
API_TITLE=AetherFolio API
API_DESCRIPTION=AetherFolio EPUB编辑器后端API

# CORS配置
CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]
CORS_ALLOW_CREDENTIALS=true

# 文件存储配置
UPLOAD_DIR=./uploads
TEMP_DIR=./temp
EXTRACTED_DIR=./extracted
EXPORT_DIR=./exports

# 文件限制配置
MAX_FILE_SIZE=104857600  # 100MB
MAX_RULES_FILE_SIZE=1048576  # 1MB
MAX_REQUEST_SIZE=104857600  # 100MB
ALLOWED_MIME_TYPES=["application/epub+zip"]

# 会话配置
SESSION_TIMEOUT=3600  # 1小时
SESSION_CLEANUP_INTERVAL=300  # 5分钟
MAX_SESSIONS_PER_IP=5

# Redis配置（可选，用于分布式部署）
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
USE_REDIS=false

# 限流配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE_URL=memory://
DEFAULT_RATE_LIMIT=100/minute

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/aetherfolio.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# 安全配置
SECRET_KEY=your-secret-key-here-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 性能配置
SLOW_REQUEST_THRESHOLD=2.0  # 2秒
MAX_WORKERS=4
CACHE_TTL=300  # 5分钟

# EPUB处理配置
EPUB_EXTRACT_TIMEOUT=30  # 30秒
EPUB_EXPORT_TIMEOUT=60  # 60秒
MAX_EPUB_FILES=1000

# 批量替换配置
MAX_REPLACE_RULES=1000
REPLACE_TIMEOUT=300  # 5分钟
REPLACE_BATCH_SIZE=10

# 预览配置
PREVIEW_CACHE_TIMEOUT=300  # 5分钟
PREVIEW_MAX_FILE_SIZE=1048576  # 1MB

# 清理配置
CLEANUP_INTERVAL=3600  # 1小时
TEMP_FILE_RETENTION=86400  # 24小时